<p>matriculas works!</p>
<p-toast />
<div class="content">
  <p-table [value]="matriculas" [(selection)]="selectedMatricula">
    <ng-template pTemplate="header">
      <tr>
        <th>Curso</th>
        <th>Estudiante Estado</th>
        <th>Estudiante</th>
        <th>Fecha</th>
        <th>Acciones</th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-matricula>
      <tr>
        <td>{{ matricula.cursoId }}</td>
        <td>{{ matricula.estudianteEstado }}</td>
        <td>{{ matricula.estudianteId }}</td>
        <td>{{ matricula.fecha }}</td>
        <td>
          <p-button type="button" icon="pi pi-pencil" severity="success"
            (click)="mostrarDialogEditar(matricula)"></p-button>
          <p-button type="button" icon="pi pi-trash" severity="danger"
            (click)="mostrarDialogEliminar(matricula)"></p-button>
        </td>
      </tr>
    </ng-template>
  </p-table>

  <!-- Agregar nueva matricula -->
  <button pButton type="button" label="Agregar Matricula" icon="pi pi-plus" (click)="mostrarDialogAgregar()"></button>

  <!-- Cuadro de diálogo para agregar/editar matricula -->
  <p-dialog header="Agregar/Editar Matricula" [(visible)]="displayDialog" [responsive]="true"
    [style]="{width: '50vw' , height: '400px'}">
    <!-- Dropdown para seleccionar el curso -->
    <p-dropdown id="curso" [options]="cursos" [(ngModel)]="matricula.curso" optionLabel="nombre"
      placeholder="Seleccione un curso"></p-dropdown>



    <label for="estudianteId">Estudiante</label>

    <p-dropdown id="estudiante" [options]="estudiantes" [(ngModel)]="matricula.estudiante_id" optionLabel="nombres"
      placeholder="Seleccione un estudiante"></p-dropdown>

    <label for="fecha">Fecha</label>
    <input id="fecha" [(ngModel)]="matricula.fecha" placeholder="Fecha" />

    <!-- Botones del cuadro de diálogo -->
    <button pButton type="button" label="Guardar" icon="pi pi-check" (click)="guardarMatricula()"></button>
    <button pButton type="button" label="Cancelar" icon="pi pi-times" (click)="cancelarEdicion()"></button>
  </p-dialog>

  <!-- Cuadro de confirmación para eliminar -->
  <p-confirmDialog header="Confirmar Eliminación" icon="pi pi-exclamation-triangle">
    <p-footer>
      <button pButton type="button" label="Sí" icon="pi pi-check"
        (click)="confirmarEliminarMatricula(selectedMatricula)"></button>
      <button pButton type="button" label="No" icon="pi pi-times" (click)="cancelarEliminarMatricula()"></button>
    </p-footer>
  </p-confirmDialog>
</div>